<!DOCTYPE html>
<html lang="en-US">

<head>

    <meta charset="utf-8">
    <title>Caesar Cipher - PentaHex</title>

    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Squada+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/main.css">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />

</head>

<body>

    <h1>PentaHex</h1>
    <table style='width:100%;' id="menu">
        <tr>
            <td></td>
            <td style='width:75px'>
                <a href="/">HOME</a>
            </td>
            <td style='width:105px'>
                <a href="/writeups/">WRITEUPS</a>
            </td>
            <td style='width:80px'>
                <a href="/tools/">TOOLS</a>
            </td>
            <td style='width:115px'>
                <a href="/resources/">RESOURCES</a>
            </td>
            <td style='width:110px'>
                <a href="/tutorials/">TUTORIALS</a>
            </td>
            <td style='width:85px'>
                <a href="/about.html">ABOUT</a>
            </td>
            <td></td>
        </tr>
    </table>

    <div id="container1_w">
        <div id="container2_w">

            <h2>Caesar Cipher</h2>

            <textarea autofocus="true" class="input" id="input"></textarea>
            
            <br>
            
            <input class="button" type="button" value="UPDATE" onclick="update();" />
            
            <p id="output" class="code"></p>
            
            <p>The Caesar cipher, named after Julius Caesar, is a simple shift cipher where each of the letters is shifted by some amount. If the shift amount was 3, then A would become D, B would become E, and so on.</p>
            <p>It's easily brute-forced by checking each of the different shift amounts. This tool takes the input and checks each of the shift amounts.</p>

        </div>
    </div>

    <script> //Function created that is used by the button to update outputted data into decrypted Caesar Cipher
        function update() { //Function keyword _ Named update
            var input = document.getElementById("input").value; //Declare variable input which stores the user inputted text
            var lower = "abcdefghijklmnopqrstuvwxyz"; //Declare the set of characters within the cipher
            var upper = lower.toUpperCase(); //Values that are inputted as uppercase are outputted as uppercase
            var finalOutput = ""; //Stores placeholder that will act as final output

            for (var N = 1; N < 26; N++) { //Loops 1 by 1 through every rotatation

                var output = ""; //Each output per line
                for (var i in input) { //!??!!?
                    var l = input[i]; //Declare input = l
                    if (l.match(/[a-z]/i)) { //If input matches alphabet array
                        if (l.toLowerCase() === l) { //If lowercase
                            output += lower[(lower.indexOf(l) + N) % 26]; //increase the rotation of each letter by 1 and line number
                        } else { //If uppercase
                            output += upper[(upper.indexOf(l) + N) % 26]; //Same as above but for uppercase letters and line number
                        }
                    } else {
                        output += l; //Input is = to the value of the rotation. Continue looping through more lines
                    }
                }

                finalOutput += (N + ": " + output.replace(/>/g,"&gt;").replace(/</g,"&lt;") + "<br>"); //Line number + : + !?!??!!?!?!

            }
            if (document.getElementById("output").innerHTML != finalOutput) { //Calls the blank paragraph and inputs the final output
                document.getElementById("output").innerHTML = finalOutput; // Error checking?!?!?!
            }
        }
    </script>

</body>

</html>
