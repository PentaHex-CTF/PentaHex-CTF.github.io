<!DOCTYPE html>
<html lang="en-US">

<head>

    <meta charset="utf-8">
    <title>Base Converter - PentaHex</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Squada+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/main.css">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png" />

</head>

<body>

    <h1>PentaHex</h1>
    <table style='width:100%;' id="menu">
        <tr>
            <td></td>
            <td style='width:75px'>
                <a href="/">HOME</a>
            </td>
            <td style='width:105px'>
                <a href="/writeups/">WRITEUPS</a>
            </td>
            <td style='width:80px'>
                <a href="/tools/">TOOLS</a>
            </td>
            <td style='width:115px'>
                <a href="/resources/">RESOURCES</a>
            </td>
            <td style='width:110px'>
                <a href="/tutorials/">TUTORIALS</a>
            </td>
            <td style='width:85px'>
                <a href="/about.html">ABOUT</a>
            </td>
            <td></td>
        </tr>
    </table>

    <div id="container1">
        <div id="container2">

            <h2>Base Converter</h2>
            
            <p>Enter a number or text to convert. Then, enter a start base from 2 to 36, or t for text input.</p>
            
            <p>NUMBER/TEXT:</p>
            <input class=button type="text" style="width:500px" id="number">
            <p>START BASE: </p>
            <input class=button type="text" value="10" id="startBase">
            
            <br>
            
            <input class="button" type="button" value="CALCULATE" onclick="update();" />
            
            <p id="output" class="code"></p>

        </div>
    </div>

    <script>
        function update() {
            var startBase = document.getElementById("startBase").value;
            var number = document.getElementById("number").value;
            var output = "";
            
            if (startBase == "") {
                document.getElementById("output").textContent = "ERROR: Please enter a start base";
                return;
            }
            if (number == "") {
                document.getElementById("output").textContent = "ERROR: Please enter " + (startBase == "t" ? "text" : "a number");
                return;
            }
            if (isNaN(startBase) && startBase != "t") {
                document.getElementById("output").textContent = "ERROR: Please enter a valid start base.";
                return;
            }
            if (parseInt(startBase) < 2 || parseInt(startBase) > 36) {
                document.getElementById("output").textContent = "ERROR: Start base not in correct range.";
                return;
            }
            if (startBase == "t") {
                
            } else {
                output += "TEXT: " + String.fromCharCode(parseInt(number, startBase)) + "<br>";
                
                var importantBases = [2,10,16];
                for (var i in importantBases) {
                    var endBase = importantBases[i];
                    output += "Base " + endBase + ": "parseInt(number, startBase).toString(endBase) + "<br>";
                }
                output += "<br>"
                for (var endBase = 2; endBase <= 36; endBase ++) {
                    if (!importantBases.includes(endBase)) {
                        output += "Base " + endBase + ": "parseInt(number, startBase).toString(endBase) + "<br>";
                    }
                }
            }
            
            document.getElementById("output").innerHTML = output;
        }
    </script>

</body>

</html>
